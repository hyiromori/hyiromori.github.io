# AWS S3をバックアップに使用する場合の料金を調べてみた

## 目的

S3をGoogleフォトのバックアップ用に使うために、S3の料金を調べてみた。

主に保存とダウンロードのみ考慮して計算しています。（リクエストなどの料金は今回の用途だと誤差程度にしかならないため、計算に含めていません）

## 前提

- 容量/転送量の単位は10GB単位とします。
- $1は100円として計算します。
- コストを重視しているので`us-east-1`リージョン（米国東部バージニア）の場合で計算しています。

## S3のストレージの種類

最新/詳細な情報は[公式ドキュメント](https://aws.amazon.com/jp/s3/storage-classes/)を参照してください。

この記事では、以下の５つの種類で比較します。

- Amazon S3 標準 (S3 標準)
- Amazon S3 Intelligent-Tiering (S3 Intelligent-Tiering)
- Amazon S3 標準 – 低頻度アクセス (S3 標準 – IA)
- Amazon S3 Glacier (S3 Glacier)
- Amazon S3 Glacier Deep Archive (S3 Glacier Deep Archive)

## 保存料金

| ストレージ種類           | 料金 |
|------------------------|-----:|
| S3 標準                 |  23円 |
| S3 Intelligent-Tiering | 12.5円 |
| S3 標準 – IA            |  10円 |
| S3 Glacier              |  4円 |
| S3 Glacier Deep Archive |  1円 |

## ダウンロード料金（S3 Select によって返されたデータ）

| ストレージ種類                           | 料金 | 備考 |
|----------------------------------------|-----:|-----|
| S3 標準                                 | 0.7円 | |
| S3 Intelligent-Tiering                  | 0.7円 | |
| S3 標準 – IA                            |  10円 | |
| S3 Glacier (迅速)                       |  30円 | 0.7円(S3標準)が別途必要 |
| S3 Glacier (スタンダード版)              |  10円 | 0.7円(S3標準)が別途必要 |
| S3 Glacier (大容量)                     | 2.5円 | 0.7円(S3標準)が別途必要 |
| S3 Glacier Deep Archive (スタンダード版) |  20円 | 0.7円(S3標準)が別途必要 |
| S3 Glacier Deep Archive (大容量)        | 2.5円 | 0.7円(S3標準)が別途必要 |

## データ転送料金

S3 からインターネット: 90円 (9.999TB/月 まで。最初の1GBは無料)

## 計算例

20GBのファイルを`S3 Glacier Deep Archive`に2ヶ月おきに1回バックアップし、年２回１ファイルずつダウンロードする場合の年間の料金。

- 保存料金：2円/月
  - 1月にアップロードしたファイル：2円 × 12ヶ月 = 24円
  - 3月にアップロードしたファイル：2円 × 10ヶ月 = 20円
  - 5月にアップロードしたファイル：2円 × 8ヶ月 = 16円
  - 7月にアップロードしたファイル：2円 × 6ヶ月 = 12円
  - 9月にアップロードしたファイル：2円 × 4ヶ月 = 8円
  - 11月にアップロードしたファイル：2円 × 2ヶ月 = 4円
  - 合計：`84円`
- 転送料金
  - S3 Glacier Deep Archive (大容量) での取り出し：5円/ファイル
  - S3 標準でのダウンロード料金：1.4円/ファイル
  - データ転送料金：180円/ファイル
  - 合計：(5円 + 1.4円 + 180円) × 2 = `372.8円`
- トータル料金年額：`456.8円`

ざっと計算してみると、このお値段でバックアップできるので、かなり安いですね！
大雑把な計算であることと、為替レートによっても金額が変わりますので、必ずしもこの通りになるわけではないのでご注意ください。
もし誤りがありましたら、コメント頂けますと幸いです。
